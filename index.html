<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>TOEIC 600 Quest - 単語クイズ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div id="app">

    <!-- ====================== ホーム画面 ====================== -->
    <section id="screen-home" class="screen active">
      <h1 class="app-title">TOEIC 600 Quest</h1>
      <p class="app-sub">必須単語20語トレーニング</p>

      <div class="card">
        <p>今日のミッション：</p>
        <p><strong>単語クイズ＋文法＋AIチャット＋発音トレーニング</strong>で600点を目指そう！</p>

        <div class="progress-wrap">
          <div class="progress-label">進捗（現在のセット）</div>
          <div class="progress-bar">
            <div id="progress-inner" class="progress-inner"></div>
          </div>
          <div id="progress-text" class="progress-text">0 / 20</div>
        </div>
      </div>

      <button id="btn-start" class="btn primary">単語クイズを始める</button>
      <button id="btn-review" class="btn secondary" disabled>
        復習モード（間違えた単語）
      </button>

      <button id="btn-grammar" class="btn secondary">文法クイズ（穴埋め）</button>
      <button id="btn-grammar-review-home" class="btn secondary" disabled>
        文法復習モード（間違えた文法）
      </button>

      <button id="btn-shadow" class="btn secondary">発音トレーニング</button>

      <button id="btn-chat" class="btn secondary">AI英語チャット</button>
    </section>



    <!-- ====================== 単語クイズ画面 ====================== -->
    <section id="screen-quiz" class="screen">
      <div class="top-bar">
        <span id="quiz-counter">1 / 20</span>
        <span id="quiz-mode-label">本番モード</span>
      </div>

      <div class="card">
        <p id="quiz-direction" class="direction">英単語の意味を選んでください。</p>
        <p id="quiz-question" class="question-word">word</p>

        <div id="choices" class="choices"></div>
        <p id="feedback" class="feedback"></p>
      </div>

      <button id="btn-next" class="btn primary" style="display:none;">次へ</button>
      <button id="btn-quit" class="btn text-btn">ホームに戻る</button>
    </section>



    <!-- ====================== 結果画面（単語） ====================== -->
    <section id="screen-result" class="screen">
      <h2 class="result-title">単語クイズ 結果</h2>

      <div class="card">
        <p id="result-score" class="result-score">正解数 0 / 20</p>
        <p id="result-rate" class="result-rate">正答率 0%</p>
        <p id="result-rank" class="result-rank">ランク C</p>
      </div>

      <div class="card" id="result-mistakes-box">
        <p class="result-subtitle">要復習単語</p>
        <ul id="mistake-list" class="word-list"></ul>
      </div>

      <button id="btn-again" class="btn primary">もう一度 単語クイズを解く</button>
      <button id="btn-go-review" class="btn secondary" disabled>
        復習モードで解き直す
      </button>
      <button id="btn-back-home" class="btn text-btn">ホームへ</button>
    </section>



    <!-- ====================== 文法クイズ画面 ====================== -->
    <section id="screen-grammar" class="screen">
      <div class="top-bar">
        <span>文法クイズ（例文穴埋め）</span>
        <span id="grammar-counter">1 / 10</span>
      </div>

      <div class="card">
        <p class="direction">文中の (_____) に入る最も適切な語を選んでください。</p>
        <p id="grammar-question" class="question-sentence">
          She (_____) the report yesterday.
        </p>

        <div id="grammar-choices" class="choices"></div>
        <p id="grammar-feedback" class="feedback"></p>
        <p id="grammar-progress" class="grammar-progress">正解数 0 / 0</p>
      </div>

      <button id="btn-grammar-next" class="btn primary" style="display:none;">
        次の問題へ
      </button>

      <!-- 文法の復習モード（今回の間違い） -->
      <button id="btn-grammar-review" class="btn secondary" style="display:none;">
        復習モード（今回の間違いを解き直す）
      </button>

      <button id="btn-grammar-back" class="btn text-btn">ホームに戻る</button>
    </section>



    <!-- ====================== 発音トレーニング画面 ====================== -->
    <section id="screen-shadow" class="screen">
      <div class="top-bar">
        <span>発音トレーニング</span>
      </div>

      <div class="card">
        <p class="direction">
          「マイクで話す」を押してから、英語で話してください。<br>
          認識された英文が下に表示されます。
        </p>
        <p class="direction">
          例：自己紹介・今日の出来事・仕事の内容など、自由に話してOKです。
        </p>
      </div>

      <div class="card">
        <p class="shadow-label">認識された英語</p>
        <p id="shadow-recognized" class="shadow-recognized">
          （ここにあなたの発話が表示されます）
        </p>
      </div>

      <div class="card">
        <p class="shadow-label">AIフィードバック</p>
        <p id="shadow-feedback" class="shadow-feedback">
          停止ボタンを押すと、文法・表現のチェック結果が表示されます。
        </p>
      </div>

      <div class="card shadow-controls">
        <button id="btn-shadow-record" class="btn primary">
          🎤 マイクで話す
        </button>
        <button id="btn-shadow-stop" class="btn secondary">
          ■ 停止（チェック）
        </button>
        <button id="btn-shadow-back" class="btn text-btn">ホームに戻る</button>
      </div>
    </section>



    <!-- ====================== AI英語チャット画面 ====================== -->
    <section id="screen-chat" class="screen">
      <div class="top-bar">
        <span>AI英語チャット</span>
        <span class="chat-subtitle">英語なんでも相談</span>
      </div>

      <div class="card chat-card">
        <div id="chat-log" class="chat-log"></div>
      </div>

      <div class="chat-quick">
        <button id="btn-chat-example" class="btn secondary">
          今日の単語で例文を作って
        </button>
        <button id="btn-chat-sales" class="btn secondary">
          営業のシーンで使える表現を教えて
        </button>
      </div>

      <div class="chat-input-row">
        <input
          id="chat-input"
          class="chat-input"
          type="text"
          placeholder="例）increase を使ってビジネスの例文を作って"
        />
        <button id="btn-chat-send" class="btn primary chat-send-btn">
          送信
        </button>
      </div>

      <button id="btn-chat-back" class="btn text-btn">ホームに戻る</button>
    </section>

  </div>



  <!-- ====================== 効果音 ====================== -->
  <audio id="se-correct" src="sounds/correct.wav"></audio>
  <audio id="se-next"    src="sounds/next.wav"></audio>
  <audio id="se-wrong"   src="sounds/wrong.wav"></audio>
  <audio id="se-click"   src="sounds/click.wav"></audio>

  <!-- ★ 必ず body の一番最後に script を置く -->
  <script src="script.js"></script>
</body>
</html>
